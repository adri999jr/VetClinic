<!-- src/app/crear-cita-urgente/crear-cita-urgente.component.html -->
<div class="form-container">
  <h1>Crear Cita Urgente</h1>
  <p>Completa los campos para generar una cita en atención urgente.</p>

  <form [formGroup]="citaForm" (ngSubmit)="onSubmit()">
    <!-- Campo Motivo -->
    <div class="form-group">
      <label for="motivo">Motivo</label>
      <input type="text" id="motivo" formControlName="motivo" class="form-control"/>
    </div>

    <!-- Dropdown para Mascota (ahora incluye el dueño) -->
    <div class="form-group">
      <label for="mascotaId">Mascota</label>
      <select id="mascotaId" formControlName="mascotaId" class="form-control">
        <option value="" disabled>Selecciona una mascota</option>
        <option *ngFor="let mascota of mascotas" [value]="mascota.id_mascota">
          {{ mascota.display }} <!-- Muestra el nombre de la mascota junto con el dueño -->
        </option>
      </select>
    </div>

    <!-- Dropdown para Veterinario -->
    <div class="form-group">
      <label for="veterinarioId">Veterinario</label>
      <select id="veterinarioId" formControlName="veterinarioId" class="form-control">
        <option value="" disabled>Selecciona un veterinario</option>
        <option *ngFor="let vet of veterinarios" [value]="vet.id">
          {{ vet.nombre }}
        </option>
      </select>
    </div>

    <!-- Campo Tipo de Cita (oculto) -->
    <input type="hidden" formControlName="tipoCita" />

    <button type="submit" class="btn">Crear Cita Urgente</button>
  </form>

  <!-- Mensajes de error y éxito -->
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
  <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>
</div>
